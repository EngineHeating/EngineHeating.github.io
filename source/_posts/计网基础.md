---
title: 计网基础
date: 2024-10-21 09:39:17
tags:
    - 学习笔记
---

# 第一章 计网体系结构
## 1.1 概念&功能
### 1.1.1 计算机网络的概念
计算机网络：是一个将分散的、具有独立功能的<font color=red>计算机系统</font>，通过<font color=red>通信设备</font>和<font color=red>线路</font>连接起来，由功能完善的<font color=red>软件</font>实现<font color=green>资源共享</font>和<font color=green>信息传递</font>的系统。

- 计算机网络是**互联**的，**自治**的计算机集合。

### 1.1.2 计算机网络的功能
1. **资源通信**
2. **资源共享**  （可共享**硬件，软件，数据**）
3. 分布式处理
4. 提高可靠性
5. 负载均衡
   
### 1.1.3 计算机网络的发展
第一阶段：ARPAnet阿帕网→internet互联网→Internet因特网

- 因特网是世界上最大的互联网。

第二阶段——三级结构：NSFNET

第三阶段——多层次ISP结构
>ISP：因特网服务提供者
## 1.2组成&分类

### 1.2.1计算机网络的组成
1. **组成部分** 硬件、软件、协议
2. **<font color=red>工作方式</font>**
    - 边缘部分
      - C/S方式
      - P2P方式
    - 核心部分 <font size=2>为边缘提供服务</font>
3. **<font color=red>功能组成</font>**
   - 通信子网——实现数据通信（下三层）
   - 资源子网——实现数据共享（上三层）

| 分层 |备注|
| ------ |----|
|应用层|  
| 表示层 |
| 会话层 |
|传输层|
|网络层|路由器
|数据链路层|交换机、网桥
|物理层|集线器、中继器

### 1.2.2 计算机网络的分类
1. 按分布范围分
   - 广域网WAN<font color=red><font size=2>交换技术</font></font>
   - 城域网MAN
   - 局域网LAN<font color=red><font size=2>广播技术</font></font>
   - 个人区域网PAN
2. 按使用者分
   - 公用网
   - 专用网
3. 按交换技术分<font size=2> 电路交换 报文交换 分组交换</font>
4. 按拓扑结构分<font size=2> 总线型 星型 环型 网状型</font>
5. 按传输技术分
   - 广播式网络<font size=2> 共享公共通信信道</font>
   - 点对点网络 <font size=2> 使用**分组存储转发**和**路由选择**机制</font>

## 1.3 性能指标
### 1.3.1 速率

- 即数据率/数据传输率/比特率。
- 单位b/s,kb/s,Mb/s······和存储容量不同，存储容量单位KB,MB······ 1Byte(字节)=8bit(比特)
- 1kb/s=10<sup>3</sup>b/s  而1KB=2<SUP>10</SUP>B=1024B=1024*8b
  
### 1.3.2 带宽
用来表示网络的通信线路传送数据的能力。“**最高数据率**” b/s
### 1.3.3 吞吐量
**单位时间**内通过**某个网络（信道、接口**）的数据量。b/s
- 受带宽、网络额定速率的限制。
### 1.3.4 时延（延迟、迟延）
数据从网络一端传送到另一端的时间。单位s
- 发送时延→传播时延→排队时延→处理时延
- 发送时延=数据长度/信道带宽（发送速率）；传播时延=信道长度/电磁波在信道上的传播速率
### 1.3.5 时延带宽积
时延带宽积＝传播时延×带宽

bit&emsp;&emsp;&emsp;&emsp;&emsp;s&emsp;&emsp;&emsp;&emsp;b/s
- 即某段链路现在有多少比特。（**容量**）

### 1.3.6 往返时延RTT
从发送方发送数据开始，到发送方收到接收方的确认总共经历的时延。包括：
- 往返传播时延=传播时延×2
- 末端处理时间

### 1.3.7 利用率
- 信道利用率——有数据通过时间/数据通过时间
- 网络利用率——信道利用率加权平均值
- 利用率U⬆→时延急剧增大

## 1.4 分层结构
### 1.4.1 协议、接口、服务
1. 实体
   - n层实体——第n层中的活动元素
   - 对等实体——同一层的实体
2. 协议——为**对等实体**数据交换建立的规则、标准或约定
   - 语法
   - 语义
   - 同步
3. 接口（访问服务点SAP）——上层使用下层服务的入口
4. 服务——下层为相邻上层提供的功能调用。（垂直）

 ![图 1](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/cdb01baf6ee019a6acbf8ff48abf415cbbce4c25fd6c71a5448ba7b66934edf7.png)

分层结构包含——**7层**OSI参考模型（法定标准）、**4层**TCP/IP参考模型（事实标准）

### 1.4.2 OSI参考模型
> 为了支持异构<font color=red>网络系统</font>的互联互通。
### 1.4.3 ISO/OSI参考模型解释通信过程
![图 2](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/33a47b539b6dc2be3879a5fea7901cf795a1d9c75e46f3f5c73a0a99965f7ee5.png)  

![图 3](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/cf6fdc6ea8f5e9ccba0527892825df0997e8e8fcb414af9273753655996ff13b.png)  

### 1.4.4 各层简介
1. 应用层——所有能和用户交互产生网络流量的程序
2. 用于处理两个通信系统中交换信息的表示方式
   - 数据格式交换（翻译官）
   - 数据加密解密
   - 数据压缩和恢复
3. 会话层——向用户进程提供**建立连接**并在连接上**有序**地**传输**数据。
4. 传输层——负责主机中**两个进程**的通信，即**端到端**通信。
5. 网络层——把**分组**从源端传到目的端，为分组交换网上的不同主机提供通信服务。单位**数据报**。
6. 数据链路层——把网络层传下来的数据报**组装成帧**。单位**帧**。
7. 物理层——在物理媒体上实现比特流的**透明传输**。单位**比特**。

### 1.4.5 TCP/IP模型&5层参考模型
![图 4](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/51248ac10db8175939f50280bba99ff0f3886eee1a1fe264a6927963f3545b6b.png)  

![图 5](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/8db1c2ac5d38b8757443273867c143d0496d7286f8f10dd7ed972dae44c88bd7.png)  

![图 6](https://raw.githubusercontent.com/EngineHeating/MyPicGo/main/668c098fbf9dedc275ca9b670cb8fb588dd8dc0ec72c8d4da159b21d0d8ee3ce.png)  

======================================
# 第二章 物理层
## 2.1 基本概念
物理层解决如何在连接各种计算机的传输媒体上**传输数据比特流**，而非具体的传输媒体。

主要任务：确定与传输媒体**接口**有关的一些特性。——><font color=purple>定义标准</font>
1. 机械特性
2. 电气特性
3. 功能特性
4. 规程特性

## 2.2数据通信基础知识
源系统——传输系统——目的系统
### 2.2.1数据通信相关术语
- 数据——传送信息的实体
- 信号——数据传输过程中的**存在形式**
  - 数字信号/离散信号
  - 模拟信号/连续信号
- 信源——产生、发送数据的源头
- 信宿——接收数据的重点
- 信道——信号的传输媒介
  - 按传输信号分：模拟信道、数字信道
  - 按传输介质分：无线信道、有线信道
### 2.2.2三种通信方式
1. 单工通信——1条信道
2. 半双工通信——2条
3. 全双工通信——2条
### 2.2.3 串行传输&并行传输
1. 串行传输——由低到高依次发送
   - 速度慢，费用低，适合远距离
2. 并行传输——8条信道同时发送
   - 速度快，费用高，适合近距离
### 2.2.4 同步传输&异步传输
1. 同步传输——数据传送以一个**数据区块**为单位
2. 异步传输——将比特分成小组进行传送。
   - 可在任意时候发送数据。
   - 传送数据时加一个字符起始位和一个字符终止位。

### 2.2.5 码元
用一个**固定时长**的**信号波形**代表不同离散数值的基本波形，是数字通信中数字信号的计量单位。
- M进制码元：有M个离散状态
- 1码元可携带多个比特的信息量
> 4进制码元→码元离散状态有4个→4中信号波形 00、01、10、11

### 2.2.6 速率
数据的传输速率，表示单位时间内传输的数据量。
1. 码元传输速率——<font color=orange>1s传输多少个码元</font>
   - 码元速率与进制数无关，只和马原长度T有关。
2. 信息传输速率——<font color=orange>1s传输多少个比特</font>

<font color=red>关系：</font>若一个码元携带n bit的信息量，则M Baud的码元传输速率所对应的信息传输速率为M×n bit/s.


### 2.2.7 带宽
1. 模拟信号系统中：单位Hz。
2. 数字设备中：点对点能通过的“**最高数据率**” /单位时间内通过链路的数量。单位**比特每秒（bps）**

## 2.3 奈氏准则&香农定理
### 2.3.1 失真
- 有失真但可识别
- 失真大无法识别
- 影响因素：码元传输速率、信号传输距离、噪声干扰、传输媒体质量
- 码间串扰：**接收端**收到的信号波形<font color=red>失去了码元之间清晰界限</font>的**现象**。

### 2.3.2 奈氏准则（奈奎斯特定理）
在理想低通条件下，为避免码间串扰，极限码元传输速率为2W Baud，W是信道带宽，单位是Hz。

**理想低通信道下极限数据传输率**=<font color=red>**2Wlog<sub>2</sub>V**</font>(b/s)
- W:带宽&emsp;&emsp;log<sub>2</sub>V:几种码元的离散电平数目
- 码元传输速率有上限，超过则会出现码间串扰问题。
- 信道**频带越宽**，就可用更高速率进行马原的有效传输。
- <font color=green>奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制。</font>
- 要设法提高每个码元能携带更多个比特的信息量（多元制的解调方法）

### 2.3.3 香农定理
在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。

**信道的极限数据传输速率**=<font color=green>**Wlog<sub>2</sub>(1+S/N)**</font>(b/s)

- S/N:信噪比&emsp;信噪比（dB）=10log<sub>10</sub>(S/N)
- 信道的**带宽**或信道中**信噪比**越大，信息的极限传输速率**越高**。
- 信息的传输速率低于极限信息传输速率时，一定有方法做到<font color=red>无差错的传输</font>。
- 奈氏准则（内）和香农定理（外），二者取小值为最大数据速率。

## 2.4 编码&调制
### 2.4.1 基带信号与宽带信号
信道：信号的传输媒介
- 按传输信号分：模拟信道、数字信道
- 按传输介质分：无线信道、有线信道
- 信道上传送的信号：
  - 基带信号：发出的**直接表达了要传输的信息的信号**（传输距离近）
  - 宽带信号：把基带信号经过**载波调制**后，把信号的**频率范围搬移**到**较高的频段**以便在信道中传输。（传输距离远）

### 2.4.2 编码与调制
数据→数字信号：编码

数据→模拟信号：调制

### 2.4.3 数字数据编码为数字信号
1. **非归零编码【NRZ】**
   - <font color=orange>**高1低0**</font>&emsp;双方**难以保持同步**
2. **曼彻斯特编码**
   - 将一个码元分成两个相等间隔，前低后高为1；反之为0.
   - <font color=orange>数据传输速率只有调制速率的1/2.</font>
3. **差分曼彻斯特编码**
   - <font color=orange>**同1异0**</font>
   - 将一个码元分成两个相等间隔。
   - 抗干扰性**强**于曼彻斯特编码。
4. 归零编码【RZ】
   - 将一个码元分成两个相等间隔。
   - 每前半个码元恢复到0.
5. 反向不归零编码【NRZI】
6. 4B/5B编码
   
### 2.4.4数字数据调制为模拟信号
 数字数据调制技术在发送端将**数字信号**转换为**模拟信号**
 - 调制：调幅、调频、调相、调幅＋调相

### 2.4.5 模拟数据编码为数字信号
- **PCM编码**：对音频信号进行编码的脉码调制。
- 包括三步：抽样、量化、编码。
- <font color=red>f<sub>采样频率</sub>≥2f<sub>信号最高频率</sub></font> !
  
### 2.4.6 模拟数据调制为模拟信号
- 在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式；
  
## 2.5 数据交换方式
- 分为**1**电路交换、**2**报文交换、**3**分组交换。
- 2、3是存储转发交换方式，分组交换包含数据报方式和虚电路方式。

### 2.5.1 电路交换
- 电路交换的阶段：建立连接（呼叫/电路建立）→通信（数据传输）→释放连接（拆除电路）
- 特点：**独占资源**，适用于远程批处理信息传输或系统间实时性要求搞得大量数据传输情况。
  
### 2.5.2 报文交换
报文：站点**一次性要发送的数据块**。

原理：无需在两个站点之间建立一条专用通路，其数据传输的单位是报文，传送过程采用<font color=red>**存储转发方式**</font>.
- 无建立连接时延，可随时发送报文。
- 动态分配线路。
- 只适用于数字信号，实时性差。

### 2.5.3 分组交换
分组：网络系统把数据分割成小块，然后逐块发送，这种小块称为分组。
   - 分组：小数据块＋控制信息=分组
   - 分组交换网中要**限制所传输的数据单位的长度**，一般128B.

### 2.5.4 数据交换方式的选择
1. 传送数据量大，传送时间远大于呼叫时，选择**电路交换**。电路交换传输时延最小。
2. 端到端通路有很多段链路组成时，采用**分组交换**。
3. 从信道利用率看，**报文交换**和**分组交换**优于电路交换，其中分组交换的时延更小，适合突发式数据通信。

## 2.6 物理层传输介质
传输介质：数据传输系统中在发送设备和接收设备之间的**物理通路**。
- <font color=red>传输媒体不是物理层。</font>
- 传输介质：
  - 导向性传输介质
  - 非导向性传输介质

### 2.6.1导向型传输介质
1. 双绞线
- **绞合可减少对相邻导线的电磁干扰。**
- 加上一个由<font color=orange>**金属丝**</font>编织成的屏蔽层——屏蔽双绞线（STP），无屏蔽层的是非屏蔽双绞线（UTP）。

2. 同轴电缆
   - 基带同轴电缆——传送基带数字信号（局域网）
   - 宽带同轴电缆——传送宽带信号（有线电视系统）

- 同轴电缆**抗干扰特性**更好，**传输距离**更远，但价格更贵。

3. 光纤
- 利用光导纤维传递**光脉冲**来进行通信。出现**全反射**原理，损耗**低**，适合远距离传输。
- 分类
  - 单模光纤——**横向模式**传输，损耗小，远距离传输
  - 多模光纤——**多种**传输光信号模式的光纤，**容易失真**，近距离传输。

### 2.6.2非导向型传输介质
1. 无线电波——信号向**所有方向**传播

穿透能力强。
2. 微波——**固定方向**传播
   
   通信频率较高、数据率高。
   - 地面微波接力通信
   - 卫星通信
3. 红外线、激光——**固定方向**传播

要把要传输的信号分别转换为各自的信号格式。


## 2.7 物理层设备
### 2.7.1 中继器
- 功能：对信号进行**再生（数字信号）和还原**。
- 中继器两端：适用于完全相同的<font color=blue>两类</font>网络的互连。傻瓜层，不会存储转发。
- 5-4-3规则：不超过5个网段，最多只能有4个物理层网络设备，只有3个段可连接计算机。

### 2.7.2 集线器（多口中继器）
- 功能：**<font color=orange>再生，放大信号</font>**
- 集线器不能分割冲突域。→连载集线器上的工作主机平分带宽。

# 第三章 数据链路层
## 3.1 数据链路层的功能
![20241021204143](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204143.png)

## 3.2 组帧
![20241021204244](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204244.png)

## 3.3 差错控制
![20241021204413](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204413.png)

### 3.3.1 奇偶校验码
![20241021204457](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204457.png)

### 3.3.2 循环冗余校验码
![20241021204601](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204601.png)

### 3.3.3 纠错控制——海明码
![20241021204715](https://raw.githubusercontent.com/EngineHeating/picgo_2/main/20241021204715.png)