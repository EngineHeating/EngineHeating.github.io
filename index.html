<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Hexo',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-03-20 17:47:07'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Hexo"><span class="site-name">Hexo</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Hexo</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/%E4%BF%9D%E5%AD%98%E5%B9%B6%E8%AF%BB%E5%8F%96N9030%E6%B3%A2%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%B9%B6%E4%BD%9C%E5%9B%BE/" title="保存并读取N9030A波形数据并作图">保存并读取N9030A波形数据并作图</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T09:45:21.000Z" title="Created 2024-03-20 17:45:21">2024-03-20</time></span></div><div class="content">保存并读取N9030A波形数据并作图本例用到QCustomPlot库，用于绘制二维图，基础配置见上文。

一开始希望保存为CSV文件，但查找帮助文档后发现唯独保存为DATA（CSV）格式没有对应的SPCI指令。多次尝试无果后换为保存为state格式尝试，最终可以实现。

state格式可以保存观测点、mark点、中心频率等分析仪的设置参数，并且可recall后加载到分析仪上原封不动的显示。csv格式基本为用逗号隔开的纯文本格式。


下面是一个可运行的函数，点击按钮后，QWidegt控件会进行绘图。
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960void MainWindow::on_TextButton_clicked()&#123;    //连接N9030A并加载State文件        status = viOpenDefaultRM(&amp;defaultRM);        viOpen(de ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/QCustomPlot%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E7%BB%98%E5%88%B6%E6%9B%B2%E7%BA%BF/" title="QCustomPlot库的使用——绘制曲线">QCustomPlot库的使用——绘制曲线</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T09:44:12.000Z" title="Created 2024-03-20 17:44:12">2024-03-20</time></span></div><div class="content">1. 配置库1.1 下载与预配置
下载压缩包，然后吧.cpp和.h文件放入工程目录中
在mainwindow.h中引用下载的.h文件1#include &quot;qcustomplot.h&quot;
Q4.0以上版本需要在.pro文件中加入：1QT += printsupport
在UI设计界面，拖入Widget,然后右键-&gt;提升为…然后在弹出的对话框中，在提升为类名那里输入QCustomPlot，然后头文件那里会自动填充为qcustomplot.h。单击添加按钮将QCustomPlot加入提升类列表中，最后单击提升就可以了。

  
 可见，类中已经显示为QCustomPlot。预配置完成，这个可以用来作为坐标轴画图。
1.2 第一个demo：画一个简单抛物线代码如下：
12345678910111213141516171819202122// 生成数据，画出的是抛物线QVector&lt;double&gt; x(101), y(101); //初始化向量x和yfor (int i=0; i&lt;101; ++i)&#123;  x[i] = i/50.0 - 1; / ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA/" title="动态链接库的使用">动态链接库的使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T09:41:11.000Z" title="Created 2024-03-20 17:41:11">2024-03-20</time></span></div><div class="content">动态链接库的使用一、在VS中创建动态链接库首先生成的main文件无需改动，要做的是创建自己的DLL文件。分别创建头文件.h和源文件.cpp。
.h文件中如下例：
1extern &quot;C&quot; _declspec(dllexport) int Add(int a, int b);


extern “C”：作用是告诉编译器代码按C语言的方式进行编译
_declspec(dllexport)：此修饰符告诉编译器和链接器被它修饰的函数或变量需要从DLL导出。与其相对的代码是_declspec(dllimport) 此修饰符告诉编译器和链接器被它修饰的函数或变量需要从DLL导入。
int Add(int a, int b)需要被其他程序调用的函数

.cpp文件如下例：
1234567#include &quot;pch.h&quot;#include &quot;TestDLL.h&quot;int add(int a, int b)&#123;	return a + b;&#125;


然后进行编译，这里无法运行是正常的。
二、创建需要调用的CPP项目将上步生成的.dll文 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/C++%20Primer%20%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0%E7%95%99%E6%A1%A3/" title="C++课后练习留档">C++课后练习留档</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T09:32:11.000Z" title="Created 2024-03-20 17:32:11">2024-03-20</time></span></div><div class="content">C++ Primer&#x2F;Essential C++ 课后练习留档第1章开始练习1.3
编写程序，在标准输出上打印Hello World.

123456#include &lt;iostream&gt;int main()&#123;	std::cout &lt;&lt; &quot;Hello, World&quot;;	return 0;&#125;


练习1.4
我们的程序使用加法运算符+将两个数相加。编写程序使用乘法运算符*打印两个数的积。

1234567#include &lt;iostream&gt;int main()&#123;	int mul1, mul2;	std::cin &gt;&gt; mul1 &gt;&gt; mul2;	std::cout &lt;&lt; mul1 * mul2 &lt;&lt; std::endl;&#125;


练习1.5
我们将所有输出操作放在一条很长的语句中。重写程序，将每个运算对象的打印操作放在一条独立的语句中。

12345678910111213#include &lt;iostream&gt;int mai ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/CPP%E5%9F%BA%E7%A1%80/" title="CPP基础">CPP基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T09:31:17.000Z" title="Created 2024-03-20 17:31:17">2024-03-20</time></span></div><div class="content">基础知识在基础知识部分，好像只有头文件的引用和输入输出函数发生了变化。
头文件下加入using namespace std;
#include&lt;stdio.h&gt;——&gt;#include&lt; iostream&gt;
printf——&gt;cout
scanf——&gt;cin
C++有字符串类型string,这是C语言所不具备的。
指针基础概念12int a = 10;             //假设a的地址为1000int *p = &amp;a;

这是定义了一个指向int形变量a的指针。此时p = &amp;a = 1000,*p = a = 10。

&amp;：取址运算符，取&amp;后面的变量的地址值。
*： 取值运算符：取*后面的地址里保存的变量值。

指针传入函数调用一个函数时，通常不会将变量直接传入函数，而是将调用的变量复制一份副本传入函数。
12345678910111213141516171819#include &lt;iostream&gt;using namespace std;//没用指针，交换失败void swap(int a,  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/CPP%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="CPP核心编程">CPP核心编程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T06:39:17.000Z" title="Created 2024-03-20 14:39:17">2024-03-20</time></span></div><div class="content">CPP核心编程1 内存分区模型C++程序执行时，将内存大致分为4个区域：

代码区
全局区
栈区
堆区

1.1 程序运行前程序编译后，生成了exe可执行文件，未执行该程序前分为两个区域：
代码区：

存放CPU执行的机器指令
代码区是共享的。对于被频繁执行的程序，只需存储一份代码
代码区是只读的。防止程序意外修改它的指令。

全局区：

存放全局变量(函数外定义的变量)、静态变量（static）、常量（3种）
该区域数据程序结束后由操作系统释放。

1.2 程序运行后栈区：

编译器自动分配释放，存放函数的参数值，局部变量等；
注：不要返回局部变量的地址。

堆区：

堆区数据由程序员管理和释放
堆区数据由new关键字开辟内存1int *p = new int(10);

1.3 new运算符在堆区开辟数据，由delete释放。
12int *arr = new int[10]; //分配10个int数据组成的数组，arr指针指向第一个Intdelete[] arr;   //arr必须指向一个动态分配的数组或者为空

2 引用2.1 基本操作作用：给变量起别名
12int a =  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-20T06:09:51.802Z" title="Created 2024-03-20 14:09:51">2024-03-20</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/03/20/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E6%B5%8B%E8%AF%95%E5%8D%9A%E5%AE%A2/" title="我的第一篇测试博客">我的第一篇测试博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-03-19T17:03:17.000Z" title="Created 2024-03-20 01:03:17">2024-03-20</time></span></div><div class="content">第一章内容

第二章内容

</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">John Doe</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">8</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/%E4%BF%9D%E5%AD%98%E5%B9%B6%E8%AF%BB%E5%8F%96N9030%E6%B3%A2%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%B9%B6%E4%BD%9C%E5%9B%BE/" title="保存并读取N9030A波形数据并作图">保存并读取N9030A波形数据并作图</a><time datetime="2024-03-20T09:45:21.000Z" title="Created 2024-03-20 17:45:21">2024-03-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/QCustomPlot%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E7%BB%98%E5%88%B6%E6%9B%B2%E7%BA%BF/" title="QCustomPlot库的使用——绘制曲线">QCustomPlot库的使用——绘制曲线</a><time datetime="2024-03-20T09:44:12.000Z" title="Created 2024-03-20 17:44:12">2024-03-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E7%9A%84%E5%88%9B%E5%BB%BA/" title="动态链接库的使用">动态链接库的使用</a><time datetime="2024-03-20T09:41:11.000Z" title="Created 2024-03-20 17:41:11">2024-03-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/C++%20Primer%20%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0%E7%95%99%E6%A1%A3/" title="C++课后练习留档">C++课后练习留档</a><time datetime="2024-03-20T09:32:11.000Z" title="Created 2024-03-20 17:32:11">2024-03-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/CPP%E5%9F%BA%E7%A1%80/" title="CPP基础">CPP基础</a><time datetime="2024-03-20T09:31:17.000Z" title="Created 2024-03-20 17:31:17">2024-03-20</time></div></div></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">March 2024</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">8</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-03-20T09:47:07.434Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By John Doe</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>